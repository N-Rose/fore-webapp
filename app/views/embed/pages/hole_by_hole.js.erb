$('#holeinfo').empty().append('<%= j render("hole_information") %>')
<% if params[:hole_num].to_i == 1 || params[:hole_num].to_i == 0 %>
  var videoList = []

  for (var i = 0, len = gon.videos_urls.length; i < len; i++) {
    videoList.push({
      sources: [{
        src: gon.videos_urls[i],
        type: 'video/mp4'
      }],
      poster: gon.image_urls[i]
    });
  }
  var player = videojs('hole-vid', {
    controls: true, fluid:true,
    'playbackRates': [0.5, 1, 1.5, 2],
    abr: {enable: true},
    controlBar: {
      children: {
        'playToggle':{},
        'progressControl':{},
        'volumeMenuButton':{},
        'volumePanel': {inline: false},
        'playbackRateMenuButton':{},
        // 'settingsMenuButton': {
        //     entries : [
        //       'subtitlesButton',
        //       'playbackRateMenuButton'
        //     ]
        //   },
        'fullscreenToggle':{}
      }
    }
  });

  try {player.volume(1);} catch (e) {}
  console.log("player"+player)
  console.log("videoList"+videoList)
  player.playlist(videoList);
  player.playlist.autoadvance(0);
<% end %>
